{% extends 'shop/basic.html' %}

{% block css %}
body{
overflow-x: hidden;
}
a:hover{
text-decoration: none;
color: black
}

a{
color: black;
}

.move-left{
position: relative;
right: 276px;
}

.card-img-top{
height: 250px;
}

{% endblock %}

{% block body %}
{% load static %}
<div class="row my-5 d-flex justify-content-center align-items-center">
      <div class="col-sm-6">
<a href="/shop/fruits"><div class="card" style="width: 25rem; margin-left: 250px">
  <img src="{%static 'shop/fruits.jpg'%}" class="card-img-top" alt="...">
  <div class="card-body">
    <h1 class="card-title" style="text-align: center;">Fruits & Vegetables</h1>
  </div>
</div>
   </a> </div>
   <div class="col-sm-6 move-left">
<a href="/shop/snacks"> <div class="card" style="width: 25rem; margin-left: 250px">
  <img src="{%static 'shop/snacks.jpg'%}" class="card-img-top" alt="...">
  <div class="card-body">
    <h1 class="card-title" style="text-align: center;">Snacks & Munchies</h1>
  </div>
</div>
    </a></div>

</div>

<div class="row my-5 d-flex justify-content-center align-items-center">
      <div class="col-sm-6">
<a href="/shop/television"><div class="card" style="width: 25rem; margin-left: 250px">
  <img src="{%static 'shop/tv.jpg'%}" class="card-img-top" alt="...">
  <div class="card-body">
    <h1 class="card-title" style="text-align: center;">Televisions</h1>
  </div>
</div>
   </a> </div>
   <div class="col-sm-6 move-left">
<a href="/shop/accessories"> <div class="card" style="width: 25rem; margin-left: 250px">
  <img src="{%static 'shop/access.jpg'%}" class="card-img-top" alt="...">
  <div class="card-body">
    <h1 class="card-title" style="text-align: center;">Accessories</h1>
  </div>
</div>
    </a></div>

</div>
{% endblock %}


{% block js %}
<script>
if(localStorage.getItem('cart') != undefined){
    updatePopOver()
   }
  function updatePopOver(){
    var popStr = "";
    popStr = popStr + "<h5> Items in your shopping cart </h5><div class='mx-2 my-2'>";
    var i = 1
    popCart = JSON.parse(localStorage.getItem('cart'))
    total = 0
    for (var item in popCart){
        popStr = popStr + "<b>" + i + "</b>. ";
        popStr = popStr + popCart[item][1] + "... Qty: " + popCart[item][0] + '<br>';
        total += popCart[item][0]
        i = i+1;
    }
    popStr = popStr + `</div> <a href='/shop/checkOut'><button class='btn btn-danger' id='checkout'>Check Out</button></a>
                                                   <button class='btn btn-primary' onclick="clearCart()" id='clearCart'>Clear Cart</button>`
    document.getElementById('popcart').setAttribute('data-content', popStr);
    document.getElementById('cart').innerHTML = total;
    $('#popcart').popover('show');
    }

    function clearCart() {
    localStorage.clear();
    cart = {};
    updatePopOver()
        $('#popcart').popover('hide');
}

</script>
{% endblock %}